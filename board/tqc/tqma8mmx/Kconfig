if TARGET_TQMA8MMX

config SYS_BOARD
	default "tqma8mmx"

config SYS_VENDOR
	default "tqc"

config SYS_CONFIG_NAME
	default "tqma8mmx"

config TQMA8MMX_DEFAULTS
	bool
	default y if TARGET_TQMA8MMX
	select ARCH_MISC_INIT
	select TQC_EEPROM
	select BOARD_LATE_INIT
	select BOARD_EARLY_INIT_F
	select FIT
	select OF_CONTROL
	select OF_BOARD_SETUP
	select OF_SYSTEM_SETUP
	select PINCTRL
	select PINCTRL_IMX8M
	select DM
	select DM_MMC
	select MMC_IO_VOLTAGE
	select MMC_HS400_SUPPORT
	select FSL_ESDHC
	select DM_THERMAL
	select DM_SERIAL
	select MXC_UART
	select DM_GPIO
	select MXC_GPIO
	select DM_I2C
	select SYS_I2C_MXC
	select MISC
	select SPL
	select SPL_LOAD_FIT
	select SPL_BOARD_INIT
	select SPL_ENV_SUPPORT
	select SPL_SERIAL_SUPPORT
	select SPL_GPIO_SUPPORT
	select SPL_MMC_SUPPORT
	select SPL_DRIVERS_MISC_SUPPORT
	select SPL_POWER_SUPPORT
	select SPL_I2C_SUPPORT
	select SPL_LIBGENERIC_SUPPORT
	select SPL_LIBCOMMON_SUPPORT

choice
	prompt "TQMa8MMx CPU variant"
	default TQMa8MMX_CPU_MX8MM
	help
	  Select cpu variant for TQMa8MMx

config TQMa8MMX_CPU_MX8MM
	bool "TQMa8MMx with i.MX8MM / i.MX8MML / i.MX8MMD / i.MX8MMDL / i.MX8MMS / i.MX8MMSL"
	help
	  Select the CPU variant i.MX8MM / i.MX8MML / i.MX8MMD / i.MX8MMDL / i.MX8MMS / i.MX8MMSL

endchoice

config NR_DRAM_BANKS
	default 1 if TARGET_TQMA8MMX

config SYS_TEXT_BASE
	default 0x40200000 if TARGET_TQMA8MMX

config SYS_MALLOC_F_LEN
	default 0x2000 if TARGET_TQMA8MMX

config SAVED_DRAM_TIMING_BASE
	default 0x40000000 if TARGET_TQMA8MMX

config FIT_EXTERNAL_OFFSET
	default 0x3000 if TARGET_TQMA8MMX

config SPL_FIT_GENERATOR
	default "arch/arm/mach-imx/mkimage_fit_atf.sh" if TARGET_TQMA8MMX

config SYS_EXTRA_OPTIONS
	default "IMX_CONFIG=arch/arm/mach-imx/imx8m/imximage.cfg,SPL_TEXT_BASE=0x7E1000" if TARGET_TQMA8MMX

choice
	prompt "TQMa8MMX RAM size"
	default TQMA8MMX_RAM_512MB if TQMa8MMX_CPU_MX8MM
	help
	  Select RAM size for TQMa8MMx

config TQMA8MMX_RAM_512MB
	bool "TQMa8MMx with 512 MiB RAM"
	help
	  Select variant with 512 MiB RAM

config TQMA8MMX_RAM_1024MB
	bool "TQMa8MMx with 1024 MiB RAM"
	help
	  Select variant with 1024 MiB RAM

config TQMA8MMX_RAM_2048MB
	bool "TQMa8MMx with 2048 MiB RAM"
	help
	  Select variant with 2048 MiB RAM

endchoice

choice
	prompt "TQMa8MMX base board variant"
	default TQMA8MMX_BB_MBA8MX
	help
	  Select base board for TQMa8MMx

config TQMA8MMX_BB_MBA8MX
	bool "TQMa8MMx on MBa8Mx Starterkit"
	select TQC_SDMMC
	select CMD_FUSE
	select MII
	select CMD_MII
	select CMD_PING
	select CMD_DHCP
	select CMD_NET
	select DM_ETH
	select FEC_MXC
	select PHYLIB
	select PHY_GIGE
	select PHY_TI
	help
	  Select the MBa8Mx starterkit. This features a GigE Phy, USB, SD-Card
	  etc.

endchoice

config DEFAULT_DEVICE_TREE
	default "fsl-imx8mm-mba8mx" if TQMA8MMX_BB_MBA8MX

config DEFAULT_FDT_FILE
	default "imx8mm-mba8mx.dtb" if TQMA8MMX_BB_MBA8MX

menu "TQMa8MMX boot device"

config TQMA8MMX_BOOT_SDCARD
	bool "TQMa8MMx boot from SD / e-MMC"
	default "y"
	select SD_BOOT
	select ENV_IS_IN_MMC
	help
	  Select booting from SD / e-MMC

config TQMA8MMX_BOOT_FSPI
	bool "TQMa8MMx boot from FlexSPI"
	select QSPI_BOOT
	select ENV_IS_IN_SPI_FLASH
	help
	  Select booting from FlexSPI

endmenu

source "board/tqc/common/Kconfig"

endif
